{% extends "layout.html" %}  {# ho·∫∑c index.html n·∫øu b·∫°n ch∆∞a t√°ch layout #}

{% block title %}T√¨m ki·∫øm s√°ch{% endblock %}

{% block content %}
<!-- G·ªçi ri√™ng CSS cho search -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/search.css') }}">

<div class="search-container">
  <h2 class="search-title">üîç T√¨m ki·∫øm s√°ch</h2>

  <form method="POST" class="search-form">
    <input 
      type="text" 
      name="query" 
      class="search-input" 
      placeholder="Nh·∫≠p t√™n s√°ch, t√°c gi·∫£ ho·∫∑c nƒÉm xu·∫•t b·∫£n..." 
      value="{{ query }}"
      required>
    <button class="search-button" type="submit">T√¨m</button>
  </form>

  {% if results %}
  <table class="search-table">
    <thead>
      <tr>
        <th>T√™n s√°ch</th>
        <th>T√°c gi·∫£</th>
        <th>NƒÉm</th>
        <th>S·ªë l∆∞·ª£ng c√≤n</th>
      </tr>
    </thead>
    <tbody>
      {% for book in results %}
      <tr>
        <td>{{ book.title }}</td>
        <td>{{ book.author }}</td>
        <td>{{ book.year }}</td>
        <td>{{ book.available }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% elif query %}
  <p class="no-result">
    Kh√¥ng t√¨m th·∫•y s√°ch n√†o ph√π h·ª£p v·ªõi t·ª´ kh√≥a 
    "<strong>{{ query }}</strong>".
  </p>
  {% endif %}
</div>
{% endblock %}
